MENU = {
    "espresso": {
        "ingredients": {
            "water": 50,
            "coffee": 18,
        },
        "cost": 1.5,
    },
    "latte": {
        "ingredients": {
            "water": 200,
            "milk": 150,
            "coffee": 24,
        },
        "cost": 2.5,
    },
    "cappuccino": {
        "ingredients": {
            "water": 250,
            "milk": 100,
            "coffee": 24,
        },
        "cost": 3.0,
    }
}

original_resources = {
    "water": 300,
    "milk": 200,
    "coffee": 100,
    "money": 2.5
}

resources = original_resources.copy()

def process_coins():
    print("Pleaase insert coins")
    num_quarters = int(input('How many quarters? '))
    num_dimes = int(input('How many dimes? '))
    num_nickels = int(input('How many nickels? '))
    num_pennies = int(input('How many pennies? '))
    total = num_quarters * .25 + num_dimes * .10 + num_nickels * .05 + num_pennies * .01
    return total

def is_resource_sufficient(order_ingredients):
    for item in order_ingredients:
        if order_ingredients[item] > resources[item]:
            print(f"Sorry there is not enough {item}.")
            return False
    return True

def make_coffee(drink_name, order_ingredients):
    for item in order_ingredients:
        resources[item] -= order_ingredients[item]
    print(f"Here is your {drink_name} ☕️. Enjoy!")

def refill_resources():
    global resources
    resources = original_resources.copy()

def main():
    while True:
        choice = input("What would you like?(espresso/latte/cappuccino): ").lower().strip()

        if choice == 'off':
            print("Turning off the machine.")
            break
        elif choice == 'report':
            for resource in resources:
                print(f"{resource.capitalize()}: {resources[resource]}")
        elif choice == 'refill':
            print("Resources before refill:")
            for resource, amount in resources.items():
                print(f"{resource.capitalize()}: {amount}")
            refill_resources()
            print("Resources after refill:")
            for resource, amount in resources.items():
                print(f"{resource.capitalize()}: {amount}")
        elif choice in MENU:
            print(f"Preparing {choice}.")
            drink = MENU[choice]
            if is_resource_sufficient(drink['ingredients']):
                payment = process_coins()
                if payment >= drink['cost']:
                    change = round(payment - drink['cost'], 2)
                    if change > 0:
                        print(f"Here is ${change} in change ")
                    make_coffee(choice, drink['ingredients'])
                else:
                    print("Sorry, that's not enough money. Money refunded.")
        else:
            print('Sorry we do not have that coffee type')
main()



